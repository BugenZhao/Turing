//
//  Example.swift
//  Turing
//
//  Created by Bugen Zhao on 5/9/20.
//

import Foundation
import TuringLib

func example() {
    enum Symbol: String, CustomStringConvertible {
        case ðŸ‘‰, ðŸ‘ˆ
        case rei = "0", ichi = "1"
        var description: String { return rawValue }
    }

    enum State {
        case start, halt, moving
    }

    let machine = TuringMachine<State, Symbol>(tapeCount: 2, initialState: .start)
    let instructions: [Instruction<State, Symbol>] = [
        Instruction(.start, [.ðŸ‘‰, nil], .moving, [.ðŸ‘‰], [.R, .R]),
        Instruction(.moving, [.ichi, nil], .moving, [.rei], [.R, .R]),
        Instruction(.moving, [.rei, nil], .moving, [.ichi], [.R, .R]),
        Instruction(.moving, [.ðŸ‘ˆ, nil], .halt, [.ðŸ‘ˆ], [.S, .S]),
    ]
    let tape: [Symbol?] = [.ðŸ‘‰, .rei, .ichi, .rei, .ichi, .rei, .ðŸ‘ˆ]

    try! machine.addInstruction(from: instructions)
    machine.tapes[0].tape = tape


    machine.run()
}
